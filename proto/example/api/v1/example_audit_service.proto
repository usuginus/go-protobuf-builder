syntax = "proto3";

package example.api.v1;

import "example/common/v1/example_resources.proto";
import "google/protobuf/timestamp.proto";

option go_package = "github.com/usuginus/go-protobuf-builder/gen/go/example/apiv1;exampleapiv1";

// ListExampleAuditEntriesRequest fetches audit metadata for a specific Example resource.
message ListExampleAuditEntriesRequest {
  // name references the Example resource, "projects/{project}/examples/{example}".
  string name = 1;
  // since_time filters out entries older than the provided timestamp.
  google.protobuf.Timestamp since_time = 2;
  // page_size limits the number of entries returned.
  int32 page_size = 3;
  // page_token continues iteration from a prior response.
  string page_token = 4;
}

// ListExampleAuditEntriesResponse returns audit metadata entries.
message ListExampleAuditEntriesResponse {
  // entries contains ordered audit information.
  repeated example.common.v1.AuditInfo entries = 1;
  // next_page_token continues pagination, if present.
  string next_page_token = 2;
}

// ExampleAuditService exposes read-only operations for Example audit metadata.
service ExampleAuditService {
  rpc ListExampleAuditEntries(ListExampleAuditEntriesRequest) returns (ListExampleAuditEntriesResponse);
}
